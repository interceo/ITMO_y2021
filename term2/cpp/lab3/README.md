# Лабораторная работа 3 \
Сортировка

В целом нужно было сделать какой-то фикс по количеству операций

## **Цель работы**

Изучить особенности работы со структурами, рекурсией и шаблонами в C++.


## **Стандарт языка**

C++17 и новее.


## Описание

Программа должна сортировать массивы различных типов данных, используя алгоритм быстрой сортировки. Должна поддерживаться возможность сортировки по возрастанию и убыванию.


### Типы данных

Программа должна сортировать данные 3 типов:



1. int
2. float
3. phonebook

Пример записи структуры phonebook в файле:

&lt;фамилия>&lt;_пробел_>&lt;имя>&lt;_пробел_>&lt;отчество>&lt;_пробел_>&lt;телефон>

где:



* &lt;фамилия>, &lt;имя>, &lt;отчество> – строки не длиннее 20 символов, не содержат пробелов, табуляции, переводов строк или ноль-символов;
* &lt;телефон> – целое неотрицательное число, меньшее 

<p id="gdcalert1" ><span style="color: red; font-weight: bold">>>>>>  gd2md-html alert: equation: use MathJax/LaTeX if your publishing platform supports it. </span><br>(<a href="#">Back to top</a>)(<a href="#gdcalert2">Next alert</a>)<br><span style="color: red; font-weight: bold">>>>>> </span></p>

.

Сортировка структур проводится в следующем порядке (если совпадают первые элементы, то сравниваются следующие):

фамилия->имя->отчество->телефон.

Каждое поле phonebook должно храниться отдельным полем структуры/класса. 

Числа сортируются в арифметическом порядке, однобайтовые строки символов сортируются по коду символа (регистрозависимо).


### Реализация по файлам

Весь код программы должен быть реализован в нескольких файлах.


<table>
  <tr>
   <td><strong>Файл</strong>
   </td>
   <td><strong>Что должно быть в файле (порядок условный)</strong>
   </td>
  </tr>
  <tr>
   <td>main.cpp
   </td>
   <td>Подключение заголовочных файлов стандартной библиотеки, необходимых для этого файла \
 \
Подключение своих заголовочных файлов \

<p>
[Optional] Свои функции, которые относятся к <code>main</code> \

<p>
<code>int main(<em>аргументы</em>)</code>
   </td>
  </tr>
  <tr>
   <td>quicksort.h
   </td>
   <td>Подключение заголовочных файлов стандартной библиотеки, необходимых для этого файла \
 \
Подключение своих заголовочных файлов \

<p>
Определение шаблона функции сортировки со следующими аргументами шаблона \
<code>template &lt;typename T, bool descending></code>
<p>
<code>void quicksort(<em>ваши_аргументы</em>)</code>
   </td>
  </tr>
  <tr>
   <td>phonebook.h
   </td>
   <td>[Optional] Подключение заголовочных файлов стандартной библиотеки, необходимых для этого файла
<p>
[Optional] Подключение своих заголовочных файлов
<p>
Объявление структуры/класса <code>phonebook</code>
<p>
Сигнатуры функций/операторов для работы с <code>phonebook</code>
   </td>
  </tr>
  <tr>
   <td>phonebook.cpp
   </td>
   <td>[Optional] Подключение заголовочных файлов стандартной библиотеки, необходимых для этого файла
<p>
Подключение своих заголовочных файлов
<p>
Реализация функций/методов/операторов для работы с <code>phonebook</code>
   </td>
  </tr>
</table>



### Формат аргументов командной строки

Аргументы программе передаются через командную строку:


```
cpp1 <имя_входного_файла> <имя_выходного_файла>
```



### Формат входного файла

Во входном файле в первой строке указан **тип данных**. Допустимые значения (без кавычек): “int”, “float”, “phonebook”.

Во второй строке указан **режим сортировки**. Допустимые значения: “ascending”, “descending”.

На третьей строке указано кол-во значений в файле.

После этого на каждой строке задан элемент указанного типа. По одному значению на строку, каждая строка завершается символом перевода строки.

Корректность входных данных гарантируется.

Пример входного файла:


<table>
  <tr>
   <td>phonebook
<p>
ascending
<p>
2
<p>
aa bb cc 255
<p>
Aa bB cc 265
   </td>
   <td>int
<p>
descending
<p>
2
<p>
5
<p>
3
   </td>
  </tr>
</table>



### Формат выходного файла

Отсортированный массив. По одному значению на строку, каждая строка завершается символом перевода строки.

Пример выходного файла:


<table>
  <tr>
   <td>Aa bB cc 265
<p>
aa bb cc 255
   </td>
   <td>5
<p>
3
   </td>
  </tr>
</table>



## **Требования к программе**

Программа должна:



1. быть написана на C++ по заданному стандарту;
2. выполнять поставленную в ТЗ задачу;
3. не использовать внешние библиотеки;
4. всегда корректно освобождать память;
5. всегда корректно закрывать файлы;
6. обрабатывать ошибки: 
    1. файл не открылся; 
    2. не удалось выделить память;
    3. на вход передано неверное число аргументов командной строки.

    В этих случаях необходимо выдавать сообщение об ошибке и корректно завершаться с ненулевым кодом возврата (см. `"return_codes.h"`);

7. никогда ничего не писать **в поток вывода**;
8. выводить сообщения об ошибке в **поток вывода ошибок**. 


## **Ограничения**



1. Запрещено  использование exit(...) в коде.
2. Запрещено  создавать VLA-массивы (но можно VLA-указатели).
3. Ограничивается использование глобальных переменных (кроме констант) - необходимость их использования вы должны обосновать на защите. Ваш код должен быть максимально приспособлен к переносимости в другие проекты и/или использованию другими разработчиками.
4. Запрещается подключать системные библиотеки через `#include "..."`.
5. Запрещается использовать setlocale(...). Учимся писать небольшие комментарии пользователю по-английски.
6. Запрещается использовать system(“pause”).
7. Если вы создаёте свои макросы, то их название не должно быть “DEBUG”, “_DEBUG”, “NDEBUG” и прочие, определяемые компиляторами имена.  Допустимы любые другие названия из заглавных букв и символов подчёркивания.